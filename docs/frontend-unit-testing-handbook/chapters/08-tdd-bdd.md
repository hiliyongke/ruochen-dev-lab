# 用 TDD/BDD 驱动设计

TDD 三步：
- 红：先写失败的测试（表达需求）
- 绿：最小实现使之通过
- 重构：清理设计坏味道

好处：
- 更聚焦对外行为
- 自带用例文档
- 帮助拆分可测单元

BDD 风格：
- 更贴近业务陈述（Given/When/Then）
- 可读性强，利于协作

示例（TDD 改进设计）：
- 难以测试 = 依赖太多/职责不清
- 通过提取纯函数、注入依赖（DI），让代码更解耦