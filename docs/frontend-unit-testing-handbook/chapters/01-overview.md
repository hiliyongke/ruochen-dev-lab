# 测试全景与术语速览

测试金字塔（自底向上）：
- 单元测试：函数/组件级别，数量最多，执行最快
- 集成测试：模块间协作
- 端到端测试：用户视角、最慢且最贵

单元测试的价值：
- 回归保护网：重构不怕
- 设计反馈：坏味道更容易被看见（难测=可设计优化）
- 文档即代码：用例即行为说明

常用术语：
- Arrange-Act-Assert（AAA）：准备-执行-断言
- Mock/Spy/Stub：替身对象，控制依赖、观察调用
- Fixture：测试数据准备
- Deterministic：可重复、稳定不抖动的测试

评判一个「好测试」：
- 快、稳、意图清晰
- 与实现解耦、只关心对外行为
- 失败信息能快速定位问题

## 扩展：测试金字塔与分层策略（精要）
- 建议比例：Unit 70%+ / 集成 20-25% / E2E 5-10%
- 分层目标：快稳可维护；单元聚焦纯逻辑，集成验证模块契约与 DOM 行为，E2E 仅覆盖关键路径
- 质量门禁：差异覆盖 ≥ 90%，E2E 冒烟集在主干/定时跑
- 反模式：过度依赖 E2E、过度 Mock、忽视可访问性
更多细节与金字塔图解见：docs/chapters/01a-testing-pyramid.md